pre-commit:
  parallel: true
  jobs:
    - run: "composer run format {staged_files}"
      glob: "*.php"
      stage_fixed: true
    - run: "npm run lint {staged_files} -- --fix"
      glob: "*.{js,ts,svelte}"
      stage_fixed: true
    - run: "npm run format {staged_files} -- --write"
      glob: "*.{json,js,ts,svelte}"
      stage_fixed: true
pre-push:
  parallel: true
  jobs:
    - run: "composer run check"
      glob: "*.php"
    - run: "npm run check -- --fail-on-warnings"
      glob: "*.{js,ts,svelte}"
prepare-commit-msg:
  jobs:
    - run: npx cz --hook
      interactive: true
      env:
        LEFTHOOK: "0"
commit-msg:
  jobs:
    - run: npx commitlint --edit {1}
